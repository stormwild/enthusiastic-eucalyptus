{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./server/auth.js","webpack:///./server/db/models/course.js","webpack:///./server/db/models/courseCategory.js","webpack:///./server/db/models/courseSchedule.js","webpack:///./server/db/models/index.js","webpack:///./server/db/models/instructor.js","webpack:///./server/db/models/role.js","webpack:///./server/db/models/user.js","webpack:///./server/db/mongodb.js","webpack:///./server/db/scipts/seeder.js","webpack:///./server/graphql/apollo.js","webpack:///./server/graphql/configProvider.js","webpack:///./server/graphql/resolvers/graphQLDate.js","webpack:///./server/graphql/resolvers/index.js","webpack:///./server/graphql/resolvers/mutations/index.js","webpack:///./server/graphql/resolvers/mutations/intructorMutations.js","webpack:///./server/graphql/resolvers/mutations/rootValueMutations.js","webpack:///./server/graphql/resolvers/queries/courseCategoryQueries.js","webpack:///./server/graphql/resolvers/queries/courseQueries.js","webpack:///./server/graphql/resolvers/queries/index.js","webpack:///./server/graphql/resolvers/queries/instructorQueries.js","webpack:///./server/graphql/resolvers/queries/rootQueries.js","webpack:///./server/graphql/resolvers/rootValueHolder.js","webpack:///./server/graphql/schema/course.js","webpack:///./server/graphql/schema/courseCategory.js","webpack:///./server/graphql/schema/courseSchedule.js","webpack:///./server/graphql/schema/graphQLDate.js","webpack:///./server/graphql/schema/index.js","webpack:///./server/graphql/schema/instructor.js","webpack:///./server/graphql/schema/role.js","webpack:///./server/graphql/schema/root.js","webpack:///./server/graphql/schema/user.js","webpack:///./server/middleware.js","webpack:///./server/server.js","webpack:///./server/strategies/local.js","webpack:///external \"@babel/runtime/helpers/asyncToGenerator\"","webpack:///external \"@babel/runtime/helpers/interopRequireDefault\"","webpack:///external \"@babel/runtime/helpers/interopRequireWildcard\"","webpack:///external \"@babel/runtime/helpers/taggedTemplateLiteral\"","webpack:///external \"@babel/runtime/regenerator\"","webpack:///external \"apollo-server-express\"","webpack:///external \"body-parser\"","webpack:///external \"compression\"","webpack:///external \"cookie-parser\"","webpack:///external \"cors\"","webpack:///external \"express\"","webpack:///external \"express-session\"","webpack:///external \"graphql\"","webpack:///external \"graphql/language\"","webpack:///external \"helmet\"","webpack:///external \"mongodb\"","webpack:///external \"mongoose\"","webpack:///external \"passport\"","webpack:///external \"passport-local-mongoose\"","webpack:///external \"path\"","webpack:///external \"readline\""],"names":["auth","app","use","passport","initialize","session","serializeUser","user","done","deserializeUser","ObjectId","Schema","Types","courseSchema","title","type","String","required","description","instructors","ref","fee","Number","category","Course","mongoose","model","courseCategorySchema","name","unique","index","CourseCategory","courseScheduleSchema","course","dates","Date","now","CourseSchedule","instructorSchema","photo","excerpt","bio","courses","Instructor","roleSchema","Role","userSchema","username","password","email","role","active","Boolean","plugin","passportLocalMongoose","User","process","platform","rl","readline","createInterface","input","stdin","output","stdout","on","emit","gracefulShutdown","msg","callback","connection","close","console","log","once","kill","pid","exit","conn","env","MONGODB_URL","connect","useNewUrlParser","useUnifiedTopology","useCreateIndex","err","initCourseCategories","countDocuments","exec","count","insertMany","courseCategoriesData","inserted","length","initInstructors","instructorsData","initCourses","find","categories","coursesData","map","c","_id","initRoles","collection","roleData","config","server","ApolloServer","typeDefs","typeDefsArray","resolvers","formatError","error","JSON","stringify","configProvider","graphQLDate","GraphQLScalarType","serialize","value","toISOString","parseValue","dateValue","isNaN","undefined","parseLiteral","ast","kind","Kind","STRING","Query","queries","Mutation","mutations","GraphQLDate","addInstructor","updateInstructor","updateRoot","_","instructorInput","courseIds","instructor","save","findById","populate","findByIdAndUpdate","useFindAndModify","courseCategories","parent","args","context","info","courseCategory","id","root","rootValueHolder","setRootValueHolder","getRootValueHolder","gql","courseSchedule","middleware","SESSION_SECRET","bodyParser","json","urlencoded","extended","secret","resave","saveUninitialized","cookie","secure","helmet","contentSecurityPolicy","directives","defaultSrc","scriptSrc","styleSrc","imgSrc","fontSrc","referrerPolicy","policy","express","applyMiddleware","path","req","res","next","status","sendFile","resolve","post","authenticate","_req","redirect","body","findOne","register","_next","listen","localStrategy","createStrategy"],"mappings":"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","file":"server.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./server/server.js\");\n","import passport from 'passport';\nimport localStrategy from './strategies/local';\n\nconst auth = (app) => {\n  app.use(passport.initialize());\n  app.use(passport.session());\n\n  passport.serializeUser((user, done) => {\n    // null, user.id\n    done(null, user);\n  });\n  passport.deserializeUser((user, done) => {\n    done(null, user);\n  });\n\n  localStrategy(passport);\n};\n\nexport default auth;\n","import mongoose, { Schema } from 'mongoose';\n\nconst {\n  Types: { ObjectId },\n} = Schema;\n\nexport const courseSchema = Schema({\n  title: { type: String, required: true },\n  description: String,\n  instructors: [{ type: ObjectId, ref: 'Instructor' }],\n  fee: Number,\n  category: { type: ObjectId, ref: 'CourseCategory' },\n});\n\nconst Course = mongoose.model('Course', courseSchema, 'Courses');\n\nexport default Course;\n","import mongoose, { Schema } from 'mongoose';\n\nexport const courseCategorySchema = Schema({\n  name: { type: String, required: true, unique: true, index: true },\n});\n\nconst CourseCategory = mongoose.model('CourseCategory', courseCategorySchema, 'CourseCategories');\n\nexport default CourseCategory;\n","import mongoose, { Schema, mongo } from 'mongoose';\nimport { ObjectId } from 'mongodb';\n\nexport const courseScheduleSchema = Schema({\n  course: { type: ObjectId, ref: 'Course', required: true },\n  dates: [{ type: Date, default: Date.now }],\n});\n\nconst CourseSchedule = mongoose.model('CourseSchedule', courseScheduleSchema, 'CourseSchedules');\n\nexport default CourseSchedule;\n","import CourseCategory from './courseCategory';\nimport Instructor from './instructor';\nimport Course from './course';\nimport CourseSchedule from './courseSchedule';\nimport Role from './role';\nimport User from './user';\n\nexport { CourseCategory, Instructor, CourseSchedule, Course, Role, User };\n","import mongoose, { Schema } from 'mongoose';\nimport { ObjectId } from 'mongodb';\n\nexport const instructorSchema = Schema({\n  name: { type: String, required: true, unique: true, index: true },\n  photo: String,\n  excerpt: String,\n  bio: String,\n  courses: [{ type: ObjectId, ref: 'Course' }],\n});\n\nconst Instructor = mongoose.model('Instructor', instructorSchema, 'Instructors');\n\nexport default Instructor;\n","import mongoose, { Schema } from 'mongoose';\n\nexport const roleSchema = Schema({\n  name: { type: String, required: true, unique: true, index: true },\n});\n\nconst Role = mongoose.model('Role', roleSchema, 'Roles');\n\nexport default Role;\n","import mongoose, { Schema } from 'mongoose';\nimport passportLocalMongoose from 'passport-local-mongoose';\n\nconst {\n  Types: { ObjectId },\n} = Schema;\n\nexport const userSchema = Schema({\n  username: { type: String, required: true, unique: true, index: true },\n  password: { type: String, required: true },\n  email: { type: String, required: true, unique: true, index: true },\n  role: { type: ObjectId, ref: 'Role', required: true },\n  active: { type: Boolean, default: true },\n});\n\nuserSchema.plugin(passportLocalMongoose);\n\nconst User = mongoose.model('User', userSchema, 'Users');\n\nexport default User;\n","import mongoose from 'mongoose';\nimport readline from 'readline';\nimport { initInstructors, initCourses, initCourseCategories, initRoles } from './scipts/seeder';\n\nif (process.platform === 'win32') {\n  const rl = readline.createInterface({\n    input: process.stdin,\n    output: process.stdout,\n  });\n  rl.on('SIGINT', () => {\n    process.emit('SIGINT');\n  });\n}\n\nconst gracefulShutdown = (msg, callback) => {\n  mongoose.connection.close(() => {\n    console.log(`Mongoose disconnected through ${msg}`);\n    callback();\n  });\n};\n\nprocess.once('SIGUSR2', () => {\n  gracefulShutdown('nodemon restart', () => {\n    process.kill(process.pid, 'SIGUSR2');\n  });\n});\n\nprocess.on('SIGINT', () => {\n  gracefulShutdown('app termination', () => {\n    process.exit(0);\n  });\n});\n\nprocess.on('SIGTERM', () => {\n  gracefulShutdown('Heroku app shutdown', () => {\n    process.exit(0);\n  });\n});\n\nconst conn = process.env.MONGODB_URL || 'mongodb://localhost/pcci';\n\nmongoose.connect(conn, { useNewUrlParser: true, useUnifiedTopology: true, useCreateIndex: true });\n\nmongoose.connection.on('connected', () => console.log(`Mongoose connected to ${conn}`));\n\nmongoose.connection.on('error', (err) => console.log('Mongoose connection error:', err));\n\nmongoose.connection.on('disconnected', () => console.log('Mongoose disconnected'));\n\nmongoose.connection.once('open', () => {\n  console.log('Connection Successful!');\n\n  initCourseCategories();\n  initInstructors();\n  initCourses();\n  initRoles();\n});\n","import { CourseCategory, Instructor, Course, Role, User } from '../models';\nimport courseCategoriesData from '../data/course-categories.json';\nimport instructorsData from '../data/instructors.json';\nimport coursesData from '../data/courses.json';\nimport roleData from '../data/roles.json';\n\nexport const initCourseCategories = async () => {\n  const count = await CourseCategory.countDocuments().exec();\n  if (count == 0) {\n    const inserted = await CourseCategory.insertMany(courseCategoriesData);\n    console.log(`CourseCategoriess seeded. Inserted: ${inserted.length}`);\n    return inserted.length;\n  }\n};\n\nexport const initInstructors = async () => {\n  const count = await Instructor.countDocuments().exec();\n  if (count === 0) {\n    const inserted = await Instructor.insertMany(instructorsData);\n    console.log(`Instructors seeded. Inserted: ${inserted.length}`);\n    return inserted.length;\n  }\n};\n\nexport const initCourses = async () => {\n  const categories = await CourseCategory.find().exec();\n  const courses = coursesData.map((course) => {\n    let category = categories.find((c) => c.name === course.category.name);\n    course.category = category ? category._id : null;\n    return course;\n  });\n\n  const count = await Course.countDocuments().exec();\n  if (count === 0) {\n    const inserted = await Course.insertMany(courses);\n    console.log(`Courses seeded. Inserted: ${inserted.length}`);\n    return inserted.length;\n  }\n};\n\nexport const initRoles = async () => {\n  const count = await Role.countDocuments().exec();\n  if (count == 0) {\n    const inserted = await Role.collection.insertMany(roleData);\n    console.log(`Roles seeded. Inserted: ${inserted.length}`);\n    return inserted.length;\n  }\n};\n\nexport default {\n  initInstructors,\n  initCourseCategories,\n  initCourses,\n  initRoles,\n};\n","import { ApolloServer } from 'apollo-server-express';\nimport configProvider from './configProvider';\n\nconst config = configProvider();\nconst server = new ApolloServer(config);\n\nexport default server;\n","import typeDefsArray from './schema/index';\nimport resolvers from './resolvers/index';\n\nconst config = {\n  typeDefs: typeDefsArray,\n  resolvers,\n  formatError: (error) => {\n    console.log(JSON.stringify(error));\n    return error;\n  },\n};\n\nconst configProvider = () => {\n  return config;\n};\n\nexport default configProvider;\n","import { GraphQLScalarType } from 'graphql';\nimport Kind from 'graphql/language';\n\nconst graphQLDate = new GraphQLScalarType({\n  name: 'GraphQLDate',\n  description: 'A Date() type in GraphQL as a scalar',\n  serialize(value) {\n    return value.toISOString();\n  },\n  parseValue(value) {\n    const dateValue = new Date(value);\n    return isNaN(dateValue) ? undefined : dateValue;\n  },\n  parseLiteral(ast) {\n    if (ast.kind == Kind.STRING) {\n      const value = new Date(ast.value);\n      return isNaN(value) ? undefined : value;\n    }\n  },\n});\n\nexport default graphQLDate;\n","import queries from './queries/index';\nimport mutations from './mutations/index';\nimport graphQLDate from './graphQLDate';\n\nconst resolvers = {\n  Query: queries,\n  Mutation: mutations,\n  GraphQLDate: graphQLDate,\n};\n\nexport default resolvers;\n","import { updateRoot } from './rootValueMutations';\nimport { addInstructor, updateInstructor } from './intructorMutations';\n\nconst mutations = {\n  addInstructor,\n  updateInstructor,\n  updateRoot,\n};\n\nexport default mutations;\n","import { Instructor } from '../../../db/models/index';\n\nexport const addInstructor = async (_, { input }) => {\n  const { instructorInput, courseIds } = input;\n  instructorInput.courses = courseIds;\n  const instructor = new Instructor(instructorInput);\n  await instructor.save();\n  return await Instructor.findById(instructor._id).populate('courses').exec();\n};\n\nexport const updateInstructor = async (_, { input }) => {\n  const { _id, instructorInput, courseIds } = input;\n  instructorInput.courses = courseIds;\n  await Instructor.findByIdAndUpdate({ _id }, instructorInput, {\n    useFindAndModify: false,\n  }).exec();\n  return await Instructor.findById({ _id }).populate('courses').exec();\n};\n\nexport default { addInstructor, updateInstructor };\n","import { setRootValueHolder } from '../rootValueHolder';\n\nexport const updateRoot = (_, { input }) => {\n  return setRootValueHolder(input);\n};\n\nexport default { updateRoot };\n","import { CourseCategory } from '../../../db/models/index';\n\nexport const courseCategories = async (parent, args, context, info) => {\n  return await CourseCategory.find();\n};\n\nexport const courseCategory = async (parent, args, context, info) => {\n  const { id } = args;\n  return await CourseCategory.findById(id);\n};\n\nexport default { courseCategories, courseCategory };\n","import { Course } from '../../../db/models/index';\n\nexport const courses = async (parent, args, context, info) => {\n  return await Course.find().populate('category');\n};\n\nexport default { courses };\n","import { courseCategories, courseCategory } from './courseCategoryQueries';\nimport { courses } from './courseQueries';\nimport { instructors } from './instructorQueries';\nimport { root } from './rootQueries';\n\nconst queries = {\n  root,\n  courseCategories,\n  courseCategory,\n  instructors,\n  courses,\n};\n\nexport default queries;\n","import { Instructor } from '../../../db/models/index';\n\nexport const instructors = async (parent, args, context, info) => {\n  return await Instructor.find();\n};\n\nexport default { instructors };\n","import { getRootValueHolder } from '../rootValueHolder';\n\nexport const root = () => getRootValueHolder();\n\nexport default { root };\n","let rootValueHolder = `Hello`;\n\nexport const setRootValueHolder = (value) => {\n  rootValueHolder = value;\n  return rootValueHolder;\n};\n\nexport const getRootValueHolder = () => {\n  return rootValueHolder;\n};\n\nexport default { setRootValueHolder, getRootValueHolder };\n","import { gql } from 'apollo-server-express';\n\nconst course = gql`\n  input CourseInput {\n    title: String!\n    description: String!\n    instructors: [ID!]!\n    fee: Float\n    category: ID\n  }\n\n  type Course {\n    _id: ID!\n    title: String!\n    description: String!\n    instructors: [Instructor!]!\n    fee: Float\n    category: CourseCategory!\n  }\n\n  extend type Query {\n    courses: [Course]\n  }\n\n  extend type Mutation {\n    addCourse(course: CourseInput!): Course!\n    updateCourse(_id: ID!, course: CourseInput!): Course!\n  }\n`;\n\nexport default course;\n","import { gql } from 'apollo-server-express';\n\nconst courseCategory = gql`\n  type CourseCategory {\n    _id: ID!\n    name: String!\n  }\n\n  extend type Query {\n    courseCategories: [CourseCategory]\n    courseCategory(id: ID!): CourseCategory\n  }\n\n  extend type Mutation {\n    addCourseCategory(name: String!): CourseCategory!\n    updateCoureCategory(_id: ID!, name: String!): CourseCategory!\n  }\n`;\n\nexport default courseCategory;\n","import { gql } from 'apollo-server-express';\n\nconst courseSchedule = gql`\n  input AddCourseScheduleInput {\n    courseId: ID!\n    dates: [GraphQLDate]\n  }\n\n  input UpdateCourseScheduleInput {\n    _id: ID!\n    courseId: ID!\n    dates: [GraphQLDate]\n  }\n\n  type CourseSchedule {\n    _id: ID!\n    course: Course!\n    dates: [GraphQLDate]\n  }\n\n  extend type Query {\n    courseSchedules: [CourseSchedule!]!\n  }\n\n  extend type Mutation {\n    addCourseSchedule(input: AddCourseScheduleInput): CourseSchedule!\n    updteCourseSchedule(input: UpdateCourseScheduleInput): CourseSchedule!\n  }\n`;\n\nexport default courseSchedule;\n","import { gql } from 'apollo-server-express';\n\nconst graphQLDate = gql`\n  scalar GraphQLDate\n`;\n\nexport default graphQLDate;\n","import course from './course';\nimport courseCategory from './courseCategory';\nimport courseSchedule from './courseSchedule';\nimport graphQLDate from './graphQLDate';\nimport instructor from './instructor';\nimport role from './role';\nimport root from './root';\nimport user from './user';\n\nconst typeDefsArray = [\n  course,\n  courseCategory,\n  courseSchedule,\n  graphQLDate,\n  instructor,\n  role,\n  root,\n  user,\n];\n\nexport default typeDefsArray;\n","import { gql } from 'apollo-server-express';\n\nconst instructor = gql`\n  input InstructorInput {\n    name: String!\n    photo: String\n    excerpt: String\n    bio: String\n  }\n\n  input InstructorCourseIdsInput {\n    instructorInput: InstructorInput\n    courseIds: [ID!]!\n  }\n\n  input UpdateInstructorInput {\n    _id: ID!\n    instructorInput: InstructorInput\n    courseIds: [ID!]!\n  }\n\n  type Instructor {\n    _id: ID!\n    name: String!\n    photo: String\n    excerpt: String\n    bio: String\n    courses: [Course!]!\n  }\n\n  extend type Query {\n    instructors: [Instructor]\n  }\n\n  extend type Mutation {\n    addInstructor(input: InstructorCourseIdsInput!): Instructor!\n    updateInstructor(input: UpdateInstructorInput!): Instructor!\n  }\n`;\n\nexport default instructor;\n","import { gql } from 'apollo-server-express';\n\nconst role = gql`\n  type Role {\n    _id: ID!\n    name: String!\n  }\n\n  extend type Query {\n    roles: [Role]\n  }\n\n  extend type Mutation {\n    addRole(name: String): Role!\n    updateRole(_id: ID!, name: String): Role\n  }\n`;\n\nexport default role;\n","import { gql } from 'apollo-server-express';\n\nconst root = gql`\n  type Query {\n    root: String\n  }\n\n  type Mutation {\n    updateRoot(input: String!): String\n  }\n`;\n\nexport default root;\n","import { gql } from 'apollo-server-express';\n\nconst user = gql`\n  input UserInput {\n    username: String\n    password: String\n    email: String\n  }\n\n  type User {\n    _id: ID!\n    username: String!\n    password: String!\n    email: String!\n    roles: [Role!]!\n  }\n\n  extend type Query {\n    users: [User]\n  }\n\n  extend type Mutation {\n    addUser(user: UserInput!): User!\n    updateUser(_id: ID!, user: UserInput!): User!\n  }\n`;\n\nexport default user;\n","import path from 'path';\nimport express from 'express';\nimport bodyParser from 'body-parser';\nimport cookieParser from 'cookie-parser';\nimport session from 'express-session';\n\nimport cors from 'cors';\nimport compress from 'compression';\nimport helmet from 'helmet';\n\nimport passport from 'passport';\n\nimport server from './graphql/apollo';\nimport auth from './auth';\nimport { User, Role } from './db/models';\n\nconst middleware = (app) => {\n  const { SESSION_SECRET = 'For the gentle wind does move Silently invisibly' } = process.env;\n\n  app.use(bodyParser.json());\n  app.use(bodyParser.urlencoded({ extended: false }));\n  app.use(cookieParser());\n  app.use(\n    session({\n      secret: SESSION_SECRET,\n      resave: false,\n      saveUninitialized: true,\n      cookie: { secure: true },\n    })\n  );\n\n  auth(app);\n\n  app.use(cors());\n\n  app.use(compress());\n\n  app.use(helmet());\n  app.use(\n    helmet.contentSecurityPolicy({\n      directives: {\n        defaultSrc: [\"'self'\"],\n        scriptSrc: [\n          \"'self'\",\n          \"'unsafe-inline'\",\n          'cdn.jsdelivr.net',\n          \"'unsafe-eval'\",\n          'identity.netlify.com',\n          'unpkg.com',\n        ],\n        styleSrc: [\"'self'\", \"'unsafe-inline'\", 'fonts.googleapis.com', 'cdn.jsdelivr.net'],\n        imgSrc: [\"'self'\", 'data:', '*.amazonaws.com', 'cdn.jsdelivr.net'],\n        fontSrc: [\"'self'\", 'fonts.gstatic.com'],\n      },\n    })\n  );\n  app.use(helmet.referrerPolicy({ policy: 'same-origin' }));\n\n  // serve static files before gatsbyExpress\n  app.use(express.static('public/'));\n\n  // Apollo\n  server.applyMiddleware({ app, path: '/graphql' });\n\n  app.use('/app/:path', (err, req, res, next) => {\n    res.status(200).sendFile(path.resolve('public/', 'app/index.html'));\n  });\n\n  // Login\n  app.post('/login', passport.authenticate('local'), (_req, res) => {\n    res.redirect('/app');\n  });\n\n  app.post('/register', (req, res) => {\n    const { username, email, password } = req.body;\n    const role = Role.collection.findOne({ name: 'Guest' }, (err, role) => {\n      if (err) throw err;\n\n      User.register({ username, email, role: role._id }, password, (err, user) => {\n        if (err) {\n          throw err;\n        }\n\n        passport.authenticate('local')(req, res, () => {\n          res.redirect(302, '/app');\n        });\n      });\n    });\n  });\n\n  app.use((req, res, _next) => {\n    console.log('req' + req.path);\n    res.status(404).sendFile(path.resolve('public/', '404/index.html'));\n  });\n\n  app.use((err, _req, res, _next) => {\n    console.log('Error occurred: ', err);\n    res.status(500).sendFile(path.resolve('public/', '500/index.html'));\n  });\n};\n\nexport default middleware;\n","import express from 'express';\nimport middleware from './middleware';\nimport './db/mongodb';\n\nconst app = express();\n\nmiddleware(app);\n\napp.listen(3000, function() {\n  console.log('App started on port 3000');\n});\n","import { User } from '../db/models/index';\n\nconst localStrategy = passport => {\n  // Creates a user based on the posted form\n  passport.use(User.createStrategy());\n};\n\nexport default localStrategy;\n","module.exports = require(\"@babel/runtime/helpers/asyncToGenerator\");","module.exports = require(\"@babel/runtime/helpers/interopRequireDefault\");","module.exports = require(\"@babel/runtime/helpers/interopRequireWildcard\");","module.exports = require(\"@babel/runtime/helpers/taggedTemplateLiteral\");","module.exports = require(\"@babel/runtime/regenerator\");","module.exports = require(\"apollo-server-express\");","module.exports = require(\"body-parser\");","module.exports = require(\"compression\");","module.exports = require(\"cookie-parser\");","module.exports = require(\"cors\");","module.exports = require(\"express\");","module.exports = require(\"express-session\");","module.exports = require(\"graphql\");","module.exports = require(\"graphql/language\");","module.exports = require(\"helmet\");","module.exports = require(\"mongodb\");","module.exports = require(\"mongoose\");","module.exports = require(\"passport\");","module.exports = require(\"passport-local-mongoose\");","module.exports = require(\"path\");","module.exports = require(\"readline\");"],"sourceRoot":""}